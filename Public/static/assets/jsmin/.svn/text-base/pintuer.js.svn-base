$(function(){$(".win-homepage").click(function(){document.all?(document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(document.URL)):alert("设置首页失败，请手动设置！")}),$(".win-favorite").click(function(){var a=document.URL,b=document.title;try{window.external.addFavorite(a,b)}catch(c){try{window.sidebar.addPanel(b,a,"")}catch(c){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}),$(".win-forward").click(function(){window.history.forward(1)}),$(".win-back").click(function(){window.history.back(-1)}),$(".win-backtop").click(function(){return $("body,html").animate({scrollTop:0},1e3),!1}),$(".win-refresh").click(function(){window.location.reload()}),$(".win-print").click(function(){window.print()}),$(".win-close").click(function(){window.close()}),$(".checkall").click(function(){var a,b=$(this),c=b.attr("name"),d=b.attr("checkfor");a=b.closest("form").find(""!=d&&null!=d&&void 0!=d?"input[name='"+d+"']":"input[type='checkbox']"),"checkall"==c?($(a).each(function(a,b){b.checked=!0}),b.attr("name","ok")):($(a).each(function(a,b){b.checked=!1}),b.attr("name","checkall"))}),$(".dropdown-toggle").click(function(){$(this).closest(".button-group, .drop").addClass("open")}),$(".dropdown-hover").hover(function(){$(".button-group, .drop").removeClass("open"),$(this).closest(".button-group, .drop").addClass("open")},function(){}),$(document).bind("click",function(a){0==$(a.target).closest(".button-group.open, .drop.open").length&&$(".button-group, .drop").removeClass("open")}),$checkplaceholder=function(){var a=document.createElement("input");return"placeholder"in a},$placeholder=function(a){""==$(a).val()&&($(a).attr("placeholder")||$emptyplaceholder(a))&&($(a).val($(a).attr("placeholder")),$(a).data("pintuerholder",$(a).css("color")),$(a).css("color","rgb(169,169,169)"),$(a).focus(function(){$hideplaceholder($(this))}),$(a).blur(function(){$showplaceholder($(this))}))},$checkplaceholder()||$("textarea[placeholder], input[placeholder]").each(function(a,b){$placeholder(b)}),$emptyplaceholder=function(a){var b=$(a).val();return 0===b.length||b==$(a).attr("placeholder")},$showplaceholder=function(a){0!==$(a).val().length&&$(a).val()!=$(a).attr("placeholder")||"password"==$(a).attr("type")||($(a).val($(a).attr("placeholder")),$(a).data("pintuerholder",$(a).css("color")),$(a).css("color","rgb(169,169,169)"))},$hideplaceholder=function(a){$(a).data("pintuerholder")&&($(a).val(""),$(a).css("color",$(a).data("pintuerholder")),$(a).removeData("pintuerholder"))},$("form, .ys_record_table").on("blur","textarea, input, select",function(){var a=$(this);if(a.attr("data-validate")){a.closest(".field").find(".input-help").remove();var b=a.attr("data-validate").split(","),c=a.val(),d=!0,e="";if(""!=c||a.attr("data-validate").indexOf("required")>=0)for(var f=0;f<b.length;f++){var g=b[f].split(":");if(!$pintuercheck(a,g[0],c)){d=!1,e=e+"<li>"+g[1]+"</li>";break}}d?(a.closest(".form-group").removeClass("check-error"),a.parent().find(".input-help").remove(),a.closest(".form-group").addClass("check-success")):(a.closest(".form-group").removeClass("check-success"),a.closest(".form-group").addClass("check-error"),a.closest(".field").append('<div class="input-help"><ul>'+e+"</ul></div>"))}$checkplaceholder()||$placeholder(a)}),$pintuercheck=function(element,type,value){switch($pintu=value.replace(/(^\s*)|(\s*$)/g,""),type){case"required":return/[^(^\s*)|(\s*$)]/.test($pintu);case"chinese":return/^[\u0391-\uFFE5]+$/.test($pintu);case"nochinese":return/^\w+$/.test($pintu);case"number":return/^([+-]?)\d*\.?\d+$/.test($pintu);case"integer":return/^-?[1-9]\d*$/.test($pintu);case"plusinteger":return/^[1-9]\d*$/.test($pintu);case"unplusinteger":return/^-[1-9]\d*$/.test($pintu);case"znumber":return/^[1-9]\d*|0$/.test($pintu);case"fnumber":return/^-[1-9]\d*|0$/.test($pintu);case"double":return/^[-\+]?\d+(\.\d+)?$/.test($pintu);case"plusdouble":return/^[+]?\d+(\.\d+)?$/.test($pintu);case"unplusdouble":return/^-[1-9]\d*\.\d*|-0\.\d*[1-9]\d*$/.test($pintu);case"english":return/^[A-Za-z]+$/.test($pintu);case"username":return/^[a-z]\w{3,}$/i.test($pintu);case"mobile":return/^\s*(15\d{9}|13\d{9}|14\d{9}|17\d{9}|18\d{9})\s*$/.test($pintu);case"phone":return/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/.test($pintu);case"tel":return/^((\(\d{3}\))|(\d{3}\-))?13[0-9]\d{8}?$|15[89]\d{8}?$|170\d{8}?$|147\d{8}?$/.test($pintu)||/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/.test($pintu);case"email":return/^[^@]+@[^@]+\.[^@]+$/.test($pintu);case"url":return/^https:|http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/.test($pintu);case"ip":return/^[\d\.]{7,15}$/.test($pintu);case"qq":return/^[1-9]\d{4,10}$/.test($pintu);case"currency":return/^\d+(\.\d+)?$/.test($pintu);case"zipcode":return/^[1-9]\d{5}$/.test($pintu);case"chinesename":return/^[\u0391-\uFFE5]{2,15}$/.test($pintu);case"englishname":return/^[A-Za-z]{1,161}$/.test($pintu);case"age":return/^[1-99]?\d*$/.test($pintu);case"date":return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))$/.test($pintu);case"datetime":return/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-)) (20|21|22|23|[0-1]?\d):[0-5]?\d:[0-5]?\d$/.test($pintu);case"idcard":return/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/.test($pintu);case"bigenglish":return/^[A-Z]+$/.test($pintu);case"smallenglish":return/^[a-z]+$/.test($pintu);case"color":return/^#[0-9a-fA-F]{6}$/.test($pintu);case"ascii":return/^[\x00-\xFF]+$/.test($pintu);case"md5":return/^([a-fA-F0-9]{32})$/.test($pintu);case"zip":return/(.*)\.(rar|zip|7zip|tgz)$/.test($pintu);case"img":return/(.*)\.(jpg|gif|ico|jpeg|png)$/.test($pintu);case"doc":return/(.*)\.(doc|xls|docx|xlsx|pdf)$/.test($pintu);case"mp3":return/(.*)\.(mp3)$/.test($pintu);case"video":return/(.*)\.(rm|rmvb|wmv|avi|mp4|3gp|mkv)$/.test($pintu);case"flash":return/(.*)\.(swf|fla|flv)$/.test($pintu);case"radio":var radio=element.closest("form").find('input[name="'+element.attr("name")+'"]:checked').length;return eval(1==radio);case"isAddress":return isAddress($pintu);default:var $test=type.split("#");if($test.length>1){switch($test[0]){case"compare":return eval(Number($pintu)+$test[1]);case"regexp":return new RegExp($test[1],"gi").test($pintu);case"length":var $length;return $length="checkbox"==element.attr("type")?element.closest("form").find('input[name="'+element.attr("name")+'"]:checked').length:$pintu.replace(/[\u4e00-\u9fa5]/g,"***").length,eval($length+$test[1]);case"ajax":var $getdata,$url=$test[1]+$pintu;if($.ajaxSetup({async:!1}),$.getJSON($url,function(a){$getdata=a.getdata}),"true"==$getdata)return!0;break;case"repeat":return $pintu==jQuery('input[name="'+$test[1]+'"]').eq(0).val();default:return!0}break}return!0}},$("form").submit(function(){$(this).find("input[data-validate],textarea[data-validate],select[data-validate]").trigger("blur"),$(this).find("input[placeholder],textarea[placeholder]").each(function(){$hideplaceholder($(this))});var a=$(this).find(".check-error").length;return a?($(this).find(".check-error").first().find("input[data-validate],textarea[data-validate],select[data-validate]").first().focus().select(),!1):void 0}),$(".form-reset").click(function(){$(this).closest("form").find(".input-help").remove(),$(this).closest("form").find(".form-submit").removeAttr("disabled"),$(this).closest("form").find(".form-group").removeClass("check-error"),$(this).closest("form").find(".form-group").removeClass("check-success")});var isAddress=function(a){return/^(0x)?[0-9a-f]{40}$/i.test(a)?/^(0x)?[0-9a-f]{40}$/.test(a)||/^(0x)?[0-9A-F]{40}$/.test(a)?!0:isChecksumAddress(a):!1},isChecksumAddress=function(a){a=a.replace("0x",""),keccak_256.update;for(var b=keccak_256(a.toLowerCase()),c=0;40>c;c++)if(parseInt(b[c],16)>7&&a[c].toUpperCase()!==a[c]||parseInt(b[c],16)<=7&&a[c].toLowerCase()!==a[c])return!1;return!0};$.extend({isAddressETH:function(a){return isAddress(a)}}),$(".tab .tab-nav li").each(function(){var a=$(this),b=a.closest(".tab").attr("data-toggle");"hover"==b?(a.mouseover(function(){$showtabs(a)}),a.click(function(){return!1})):a.click(function(){return $showtabs(a),!1})}),$(".slidemenu .icon-slidemenu").click(function(){$(".slidemenu .slidemenu-left,.slidemenu .slidemenu-right").toggle("slow")}),$.fn.ajaxSubmit=function(a){$(this).find("input[data-validate],textarea[data-validate],select[data-validate]").trigger("blur"),$(this).find("input[placeholder],textarea[placeholder]").each(function(){$hideplaceholder($(this))});var b=$(this).find(".check-error").length;return b?($(this).find(".check-error").first().find("input[data-validate],textarea[data-validate],select[data-validate]").first().focus().select(),!1):void(a&&"function"==typeof a&&a())},$showtabs=function(a){var b=a.children("a").attr("href");a.closest(".tab .tab-nav").find("li").removeClass("active"),a.closest(".tab").find(".tab-body .tab-panel").removeClass("active"),a.addClass("active"),$(b).addClass("active")},$(".dialogs").each(function(){var a=$(this),b=a.attr("data-toggle");"hover"==b?a.mouseover(function(){$showdialogs(a)}):"click"==b&&a.click(function(){$showdialogs(a)})}),$showdialogs=function(a){var b=(a.attr("data-toggle"),a.attr("data-target")),c=a.attr("data-url"),d=a.attr("data-mask"),e=a.attr("data-width"),f="",g=$('<div class="dialog-mask"></div>'),h="";null==e&&(e="80%"),"1"==d&&$("body").append(g),f='<div class="dialog-win" style="position:fixed;width:'+e+';z-index:11;">',null!=b&&(f+=$(b).html(),h=$(b).detach()),null!=c&&(f+=$.ajax({url:c,async:!1}).responseText),f+="</div>";var i=$(f);i.find(".dialog").addClass("open"),$("body").append(i);var j=parseInt($(window).width()-i.outerWidth())/2,k=parseInt($(window).height()-i.outerHeight())/2;10>=k&&(k=10),i.css({left:j,top:k}),i.find(".dialog-close,.close").each(function(){$(this).click(function(){i.remove(),$(".dialog-mask").remove(),$("body").prepend(h)})}),g.click(function(){i.remove(),$(this).remove(),$("body").prepend(h)})},$(".tips").each(function(){var a=$(this),b=a.attr("title"),c=a.attr("data-toggle");a.attr("title",""),(""==c||null==c)&&(c="hover"),"hover"==c?a.mouseover(function(){$showtips(a,b)}):"click"==c?a.click(function(){$showtips(a,b)}):"show"==c&&a.ready(function(){$showtips(a,b)})}),$showtips=function(a,b){var c=a.attr("data-toggle"),d=a.attr("data-place"),e=a.attr("data-width"),f=a.attr("data-style"),g=a.attr("data-image"),h=a.attr("content"),i=a.attr("data-target"),j=a.attr("data-url"),k=0,l=0,m="",n="";null!=g&&(n=n+'<img class="image" src="'+g+'" />'),null!=h&&(n=n+'<p class="tip-body">'+h+"</p>"),null!=i&&(n+=$(i).html()),null!=j&&(n+=$.ajax({url:j,async:!1}).responseText),null!=b&&""!=b&&(n=null!=n&&""!=n?'<p class="tip-title"><strong>'+b+"</strong></p>"+n:'<p class="tip-line">'+b+"</p>",a.attr("title","")),n='<div class="tip">'+n+"</div>",m=$(n),$("body").append(m),null!=e&&m.css("width",e),(""==d||null==d)&&(d="top"),"left"==d?(k=a.offset().left-m.outerWidth()-5,l=a.offset().top-m.outerHeight()/2+a.outerHeight()/2):"top"==d?(k=a.offset().left-m.outerWidth()/2+a.outerWidth()/2,l=a.offset().top-m.outerHeight()-5):"right"==d?(k=a.offset().left+a.outerWidth()+5,l=a.offset().top-m.outerHeight()/2+a.outerHeight()/2):"bottom"==d&&(k=a.offset().left-m.outerWidth()/2+a.outerWidth()/2,l=a.offset().top+a.outerHeight()+5),""!=f&&m.addClass(f),m.css({left:k+"px",top:l+"px",position:"absolute"}),("hover"==c||"click"==c||null==c)&&a.mouseout(function(){m.remove(),a.attr("title",b)})},$(".alert .close").each(function(){$(this).click(function(){$(this).closest(".alert").remove()})}),$(".radio label").each(function(){var a=$(this);a.click(function(){a.closest(".radio").find("label").removeClass("active"),a.addClass("active")})}),$(".checkbox label").each(function(){var a=$(this);a.click(function(){a.find("input").is(":checked")?a.addClass("active"):a.removeClass("active")})}),$(".collapse .panel-head").each(function(){var a=$(this);a.click(function(){a.closest(".collapse").find(".panel").removeClass("active"),a.closest(".panel").addClass("active")})}),$(".collapse-toggle .panel-head").each(function(){var a=$(this);a.click(function(){a.closest(".panel").toggleClass("active")})}),$(".icon-navicon").each(function(){var a=$(this),b=a.attr("data-target");a.click(function(){$(b).toggleClass("nav-navicon")})}),$(".banner").each(function(){var a=$(this),b=a.attr("data-pointer"),c=a.attr("data-interval"),d=a.attr("data-style"),e=a.attr("data-item"),f=a.attr("data-small"),g=a.attr("data-middle"),h=a.attr("data-big"),i=a.find(".carousel .item").length,j=$(window).width(),k=1;null==c&&(c=5),(null==e||1>e)&&(e=1),null!=f&&j>760&&(e=f),null!=g&&j>1e3&&(e=g),null!=h&&j>1200&&(e=h);var l=Math.ceil(a.outerHeight()/e),m=Math.ceil(i/e);a.find(".carousel .item").css("height",l+"px"),a.find(".carousel").css("height",l*i+"px");var n=function(){k++,k>m&&(k=1),$showbanner(a,k,e,i)},o=setInterval(n,600*c);if(a.mouseover(function(){clearInterval(o)}),a.mouseout(function(){o=setInterval(n,600*c)}),0!=b&&m>1){for(var p='<ul class="pointer"><li value="1" class="active"></li>',q=1;m>q;q++)p=p+' <li value="'+(q+1)+'"></li>';p+="</ul>";var r=$(p);null!=d&&r.addClass(d),a.append(r),r.css("top",.5*a.outerHeight()-.5*r.outerHeight()+"px"),r.find("li").click(function(){$showbanner(a,$(this).val(),e,i)});var s=$('<div class="pager-prev icon-angle-left"></div>'),t=$('<div class="pager-next icon-angle-right"></div>');null!=d&&(s.addClass(d),t.addClass(d)),a.append(s),a.append(t),s.click(function(){k--,1>k&&(k=m),$showbanner(a,k,e,i)}),t.click(function(){k++,k>m&&(k=1),$showbanner(a,k,e,i)})}}),$showbanner=function(a,b,c,d){var e=0,f=0;f=-Math.ceil(a.outerHeight()/c)*c*(b-1),b*c>d&&(e=b*c-d,f=-Math.ceil(a.outerHeight()/c)*(d-c)),a.find(".carousel").stop(!0,!0).animate({top:f+"px"},800),a.find(".pointer li").removeClass("active"),a.find(".pointer li").eq(b-1).addClass("active")},$(".spy a").each(function(){var a=$(this),b=a.closest(".spy"),c=b.attr("data-target"),d=b.attr("data-offset-spy"),e="",f="";null==d&&(d=0),e=$(null==c?window:c),e.bind("scroll",function(){f=null==c?$(a.attr("href")).offset().top-$(window).scrollTop()-parseInt(d):$(a.attr("href")).offset().top-e.offset().top-parseInt(d),0>f&&(b.find("li").removeClass("active"),a.parents("li").addClass("active"))})}),$(".fixed").each(function(){var a=$(this),b=a.attr("data-style"),c=a.attr("data-offset-fixed");c=null==c?a.offset().top:a.offset().top-parseInt(c),null==b&&(b="fixed-top"),$(window).bind("scroll",function(){var d=c-$(window).scrollTop();"fixed-top"==b&&0>d?a.addClass("fixed-top"):a.removeClass("fixed-top");var e=c-$(window).scrollTop()-$(window).height();"fixed-bottom"==b&&e>0?a.addClass("fixed-bottom"):a.removeClass("fixed-bottom")})}),$(".wx-share-btn").click(function(){$(".wx-share").show()}),$(".wx-share").click(function(){$(this).hide()}),$(".wx-comments-input").keydown(function(){var a=120-parseInt($(this).val().length);$(".wx-comments-num").html(a)})});